{"version":3,"file":"js/ProjectBlock-2.0.min.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAAA;AAGA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA;AAvFA;AACA","sources":["webpack://theme/./src/js/components/ProjectBlock.js"],"sourcesContent":["import gsap from \"gsap\";\nimport ScrollTrigger from \"gsap/ScrollTrigger\";\n\nimport Lenis from \"lenis\";\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class ProjectBlock {\n    constructor() {\n        this.init();\n    }\n\n    init = () => {\n        this.setDomMap();\n        this.bindEvents();\n    };\n\n    setDomMap = () => {\n        this.window = $(window);\n        this.body = $(\"body\");\n    };\n\n    bindEvents = () => {\n\n        // Initialize Lenis for smooth scrolling\n        const lenis = new Lenis({\n            lerp: 0.1,\n            smooth: true\n        });\n\n        function raf(time) {\n            lenis.raf(time);\n            requestAnimationFrame(raf);\n        }\n        requestAnimationFrame(raf);\n\n        // GSAP animations and ScrollTrigger initialization\n        function initializeAnimations() {\n            gsap.utils.toArray('.slowed-pin').forEach((slowedPin) => {\n                const slowedText = slowedPin.querySelector('.slowed-text');\n                const slowedTextWrapper = slowedPin.querySelector('.slowed-text-wrapper');\n                const slowedImagesWrapper = slowedPin.querySelector('.slowed-images');\n                const slowedImages = slowedPin.querySelectorAll('.slowed-image img');\n\n                gsap.to(slowedText, {\n                    scrollTrigger: {\n                        trigger: slowedText,\n                        scrub: true,\n                        pin: true,\n                        start: \"top top\",\n                        end: () => `+=${slowedImagesWrapper.offsetHeight - window.innerHeight}`,\n                        onUpdate: lenis.update\n                    },\n                    y: window.innerHeight - slowedText.offsetHeight\n                });\n\n                gsap.from(slowedTextWrapper, {\n                    scrollTrigger: {\n                        trigger: slowedText,\n                        scrub: true,\n                        start: \"top top\",\n                        end: () => `+=${slowedImagesWrapper.offsetHeight - window.innerHeight}`,\n                        onUpdate: lenis.update\n                    },\n                    y: 100\n                });\n\n                slowedImages.forEach((sImage) => {\n                    gsap.to(sImage, {\n                        scrollTrigger: {\n                            trigger: sImage,\n                            scrub: true,\n                            start: \"top 100%\",\n                            onUpdate: lenis.update\n                        },\n                        scale: 1,\n                        y: 0\n                    });\n                });\n            });\n\n            // Additional refresh to ensure correct layout on page scroll\n            ScrollTrigger.refresh();\n        }\n\n        // Wait for the page and images to load, then initialize animations\n        window.addEventListener('load', () => {\n            initializeAnimations();\n\n            // Extra refresh to handle any layout shifts\n            requestAnimationFrame(() => {\n                ScrollTrigger.refresh();\n            });\n        });\n\n\n    };\n}\n"],"names":[],"sourceRoot":""}